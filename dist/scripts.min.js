/* eslint-disable */function myTimeOut(e,t){setTimeout((()=>e),t)}function toTopFunction(){document.documentElement.scrollTo({top:0,behavior:"smooth"})}window.onscroll=function(){const e=window.scrollY,t=document.getElementById("toTop");0===e?document.getElementById("hide-header").style.top="0":e>0&&(document.getElementById("hide-header").style.top="-100vh"),e>200?(t.classList.add("fadeIn"),t.classList.remove("fadeOut"),myTimeOut(t.style.display="block",250)):e<200&&(t.classList.remove("fadeIn"),t.classList.add("fadeOut"),myTimeOut(t.style.display="none",250))};const pokemonRepository=function(){const e=document.querySelector("#popup-container"),t=[];function o(e){"object"!=typeof e?alert("The new Pokémon should have the form of an object"):"name"in e&&"detailsUrl"in e?t.push(e):alert("The object should have the following properties: name, detailsUrl")}async function n(e){const t=e.detailsUrl,o=e;a();try{const e=await fetch(t),n=await e.json(),{sprites:s,abilities:i,height:a,types:c,weight:d}=n;o.imageUrl=s.other.dream_world.front_default,o.abilities=[];for(let e=0;e<i.length;e++)o.abilities.push(` ${i[e].ability.name}`);o.height=a,o.types=[];for(let e=0;e<c.length;e++)o.types.push(` ${c[e].type.name}`);o.weight=d,l()}catch(e){}}function s(t){n(t).then((()=>{!function(t){e.innerHTML="",e.classList.add("fadeIn");const o=document.createElement("div"),n=document.createElement("button"),s=document.createElement("img"),a=document.createElement("h1"),l=document.createElement("p");o.classList.add("popup","zoomIn"),n.innerHTML="&times",n.style.fontSize="24px",s.src=t.imageUrl,s.classList.add("zero-opacity"),s.onload=function(){s.classList.remove("zero-opacity")},s.alt="Picture of selected Pokémon",s.width=300,s.height=300,a.innerText=t.name,l.innerHTML=`\n      <p class="block-level capitalize"><b>Abilities: </b>${t.abilities}</p>\n      <p class="block-level capitalize"><b>Types: </b>${t.types}</p>\n      <p class="block-level"><b>Height: </b>${t.height}0 cm</p>\n      <p class="block-level"><b>Weight: </b>${t.weight}00 g</p>\n      `,e.appendChild(o),o.appendChild(n),o.appendChild(s),o.appendChild(a),o.appendChild(l),e.classList.add("is-visible"),n.addEventListener("click",i),window.addEventListener("keydown",(t=>{"Escape"===t.key&&e.classList.contains("is-visible")&&i()})),window.addEventListener("click",(t=>{const{target:o}=t;o===e&&i()}))}(t)}))}function i(){const t=document.querySelector(".popup");e.classList.add("fadeOut"),e.classList.remove("fadeIn"),t.classList.remove("zoomIn"),t.classList.add("zoomOut"),t.addEventListener("animationend",(()=>{e.classList.remove("is-visible","fadeOut")}))}function a(){document.querySelector("body").style.cursor="progress"}function l(){document.querySelector("body").style.cursor="default"}return{add:o,getAll:function(){return t},addListItem:function(e){const t=document.querySelector(".pokemon-list"),o=document.createElement("li"),n=document.createElement("button");o.classList.add("pokemon-list__item"),n.innerText=e.name,n.classList.add("pokemon-list__item--button"),o.appendChild(n),t.appendChild(o),n.addEventListener("click",(()=>{s(e)}))},loadList:async function(){a();try{const e=await fetch("https://pokeapi.co/api/v2/pokemon/?limit=150");(await e.json()).results.forEach((e=>{o({name:e.name,detailsUrl:e.url})})),l()}catch(e){}},loadDetails:n,showDetails:s}}();function search(){const e=document.getElementById("searchBar").value.toLowerCase(),t=document.getElementsByClassName("pokemon-list__item");for(let o=0;o<t.length;o++)t[o].innerText.toLowerCase().includes(e)?t[o].classList.remove("hide"):t[o].classList.add("hide")}pokemonRepository.loadList().then((()=>{pokemonRepository.getAll().forEach((e=>{pokemonRepository.addListItem(e)}))}));